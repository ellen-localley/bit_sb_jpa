<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>
<body>

<header>
  <h2>사용자 가입</h2>
</header>

<section>
  <nav>
    <ul>
      <li><a id="home_a" >홈으로</a></li>
      <li><a id="signin_a" >사용자 로그인</a></li>
    </ul>
  </nav>
  
  <article>
	<form action="">
	<label>NAME </label><br>
	<input id="name" type="text"/><br>
	<label>ID</label><br>
	<input id="userid" type="text"/><br>
	<label>PASSWORD </label><br>
	<input id="passwd" type="text"/><br>
	<label>SSN</label><br>
	<input id="ssn" type="text"><br>
	<label>ADDR</label><br>
	<input id="addr" type="text"><br>

	<input id="signup_button" type="button" value="사용자 가입">
	<input id="cancel_button" type="button" value="가입 취소">
	</form>
  </article>
</section>

<footer>
  <p>Footer</p>
</footer>
<script>
$('#home_a')
	.css('cursor','pointer')
	.click(e =>{
		e.preventDefault()
		location.href = "../index.html"
})
/*.*/
$('#signin_a')
	.css('cursor','pointer')
	.click(e => {
		e.preventDefault()
		location.href = "/user/signin.html"
	})
	
$('#signup_button')
	.click(e => {
		e.preventDefault()
		$.ajax({
			url: '/user/join',
			type: 'post',
			data: JSON.stringify({name: $('#name').val(),
				userid: $('#userid').val(),
				passwd: $('#passwd').val(),
				ssn: $('#ssn').val(),
				addr: $('#addr').val()}),
			dataType: 'json',
			contentType: 'application/json',
			success: d => {
				if(d === 'SUCCESS'){
					location.href = 'signin.html'
				}else{
					location.href = 'signup.html'
				}
			},
			error: (req, x, err) => {
				alert(req.status)
			}
		})
})

	
	

	
</script>
</body>
</html>